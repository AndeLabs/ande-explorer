# ============================================================================
# ANDE EXPLORER - Production Environment Configuration
# ============================================================================
# This file contains production configuration for BlockScout dual instances
# Copy to root as: .env.main
# DO NOT commit this file to git (keep in .gitignore)
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL credentials for BlockScout indexing database
DB_USER=blockscout
DB_PASSWORD=your-secure-db-password-here-CHANGE-THIS
DB_NAME=blockscout
DB_PORT=5432

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
# Redis cache for performance optimization
REDIS_PASSWORD=your-redis-password-here-CHANGE-THIS
REDIS_PORT=6379

# ============================================================================
# RPC CONFIGURATION
# ============================================================================
# Points to existing Ande Network sequencer
RPC_URL=http://ev-reth-sequencer:8545
RPC_WS_URL=ws://ev-reth-sequencer:8546
CHAIN_ID=42170

# ============================================================================
# ENVIRONMENT MODE
# ============================================================================
# Set to 'prod' for production deployment
ENV=prod

# ============================================================================
# MAIN EXPLORER - explorer.ande.network
# ============================================================================
# Public-facing primary explorer for end users

BLOCKSCOUT_HOST_MAIN=explorer.ande.network
BLOCKSCOUT_PROTOCOL=https
NETWORK_NAME_MAIN=Ande Network
LOGO_URL_MAIN=https://ande.network/logo.png
FOOTER_LOGO_URL_MAIN=https://ande.network/footer-logo.png

# Secret key for session encryption (generate with: openssl rand -hex 32)
SECRET_KEY_BASE=your-secret-key-base-main-CHANGE-THIS-GENERATE-NEW

# API Rate Limiting - Main Explorer
API_RATE_LIMIT_BY_KEY=100
API_RATE_LIMIT_BY_IP=500

# ============================================================================
# ADVANCED EXPLORER - explorer-advanced.ande.network
# ============================================================================
# Advanced analytics and data science explorer for developers

BLOCKSCOUT_HOST_ADVANCED=explorer-advanced.ande.network
NETWORK_NAME_ADVANCED=Ande Network (Analytics)
LOGO_URL_ADVANCED=https://ande.network/logo.png
FOOTER_LOGO_URL_ADVANCED=https://ande.network/footer-logo.png

# Secret key for session encryption (generate with: openssl rand -hex 32)
SECRET_KEY_BASE_ADV=your-secret-key-base-advanced-CHANGE-THIS-GENERATE-NEW

# API Rate Limiting - Advanced Explorer (Higher for analytics)
API_RATE_LIMIT_BY_KEY_ADV=500
API_RATE_LIMIT_BY_IP_ADV=2000

# ============================================================================
# BLOCKSCOUT FEATURES - Main Explorer
# ============================================================================
SMART_CONTRACT_VERIFICATION=true
SMART_CONTRACT_SRC=eth_bytecode_db

SHOW_PRICE_CHART=false
SHOW_MARKET_CAP_CHART=false
DISPLAY_TOKEN_ICONS=true
ENABLE_TXS_STATS=true
SHOW_VALIDATORS=false

# ============================================================================
# BLOCKSCOUT FEATURES - Advanced Explorer
# ============================================================================
# Same as main but with additional analytics features
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_ACCOUNT_ABSTRACTION=true

# ============================================================================
# MONITORING & ANALYTICS
# ============================================================================
# Google Analytics (optional - leave empty if not using)
NEXT_PUBLIC_GA_ID=
NEXT_PUBLIC_GTAG_CONVERSION_ID=

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
# Automated backup settings for production
BACKUP_LOCATION=/backups/blockscout
BACKUP_RETENTION_DAYS=30

# Database maintenance schedule (cron format)
DB_VACUUM_SCHEDULE=0 2 * * 0        # Weekly Sunday 2 AM UTC
DB_REINDEX_SCHEDULE=0 3 * * 0       # Weekly Sunday 3 AM UTC

# ============================================================================
# CLOUDFLARE TUNNEL (Integration with existing setup)
# ============================================================================
# These are informational - actual tunnel is managed by cloudflared service
# Tunnel ID from existing setup
CF_TUNNEL_ID=5fced6cf-92eb-4167-abd3-d0b9397613cc
CF_TUNNEL_NAME=ande-blockchain
CF_TUNNEL_DOMAIN=ande.network

# ============================================================================
# NOTIFICATION & ALERTS (Future)
# ============================================================================
# Email notifications for issues (optional)
ALERT_EMAIL=devops@ande.network
SLACK_WEBHOOK_URL=

# ============================================================================
# SECURITY HEADERS
# ============================================================================
# These are set by Nginx but can be configured here if needed
ENABLE_CORS=true
CORS_ALLOWED_ORIGINS=https://ande.network,https://www.ande.network,https://explorer.ande.network
